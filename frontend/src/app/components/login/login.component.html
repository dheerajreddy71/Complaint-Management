<div class="auth-container">
	<div class="auth-card fade-in">
		<div class="auth-header">
			<div class="logo">
				<mat-icon>support_agent</mat-icon>
			</div>
			<h1>Welcome Back</h1>
			<p>Sign in to your Complaint Portal account</p>
		</div>

		<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
			<mat-form-field appearance="outline" class="full-width">
				<mat-label>Email Address</mat-label>
				<input
					matInput
					type="email"
					formControlName="email"
					placeholder="Enter your email"
				/>
				<mat-icon matPrefix>email</mat-icon>
				<mat-error *ngIf="loginForm.get('email')?.invalid">
					{{ getErrorMessage("email") }}
				</mat-error>
			</mat-form-field>

			<mat-form-field appearance="outline" class="full-width">
				<mat-label>Password</mat-label>
				<input
					matInput
					[type]="hidePassword ? 'password' : 'text'"
					formControlName="password"
					placeholder="Enter your password"
				/>
				<mat-icon matPrefix>lock</mat-icon>
				<button
					mat-icon-button
					matSuffix
					type="button"
					(click)="hidePassword = !hidePassword"
				>
					<mat-icon>{{
						hidePassword ? "visibility_off" : "visibility"
					}}</mat-icon>
				</button>
				<mat-error *ngIf="loginForm.get('password')?.invalid">
					{{ getErrorMessage("password") }}
				</mat-error>
			</mat-form-field>

			<button
				mat-raised-button
				color="primary"
				type="submit"
				class="submit-btn full-width"
				[disabled]="isLoading"
			>
				<mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
				<span *ngIf="!isLoading">Sign In</span>
			</button>
		</form>

		<div class="auth-footer">
			<p>Don't have an account? <a routerLink="/register">Create one</a></p>
		</div>
	</div>
</div>
